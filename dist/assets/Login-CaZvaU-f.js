import{d as f,r,ag as y,ah as j,j as a,B as o,C as b,h as v,n as w,T as C,a6 as m,o as A,ai as S,a5 as k}from"./index-C7o3gtpE.js";import{A as D}from"./Alert-u5yzDMTm.js";const T=()=>{const{t:e}=f(),[t,h]=r.useState({email:"",password:""}),[l,n]=r.useState(""),[u,d]=r.useState(!1),{login:g}=y(),x=j(),c=s=>{h({...t,[s.target.name]:s.target.value})},p=async s=>{s.preventDefault(),n(""),d(!0);try{const i=await g(t.email,t.password);i.success?x("/"):n(i.message)}catch{n(e("auth.login.errors.failed"))}finally{d(!1)}};return a.jsx(o,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",backgroundColor:"background.default"},children:a.jsx(b,{maxWidth:"sm",children:a.jsx(v.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:a.jsxs(w,{sx:{p:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[a.jsx(C,{variant:"h4",sx:{mb:4},children:e("auth.login.title")}),l&&a.jsx(D,{severity:"error",sx:{width:"100%",mb:2},children:l}),a.jsxs(o,{component:"form",onSubmit:p,sx:{width:"100%"},children:[a.jsx(m,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:e("auth.login.email"),name:"email",autoComplete:"email",autoFocus:!0,value:t.email,onChange:c}),a.jsx(m,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:e("auth.login.password"),type:"password",id:"password",autoComplete:"current-password",value:t.password,onChange:c}),a.jsx(A,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:u,children:e(u?"auth.login.signingIn":"auth.login.signIn")}),a.jsx(o,{sx:{textAlign:"center"},children:a.jsxs(S,{component:k,to:"/register",variant:"body2",children:[e("auth.login.noAccount")," ",e("auth.login.signUp")]})})]})]})})})})};export{T as default};
