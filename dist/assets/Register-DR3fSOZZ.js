import{d as f,r as l,ag as w,ah as j,j as e,B as u,C as y,h as v,n as b,T as C,a6 as i,o as A,ai as P,a5 as W}from"./index-C7o3gtpE.js";import{A as S}from"./Alert-u5yzDMTm.js";const D=()=>{const{t:a}=f(),[r,h]=l.useState({name:"",email:"",password:"",confirmPassword:""}),[d,t]=l.useState(""),[m,c]=l.useState(!1),{register:g}=w(),p=j(),s=n=>{h({...r,[n.target.name]:n.target.value})},x=async n=>{if(n.preventDefault(),t(""),r.password!==r.confirmPassword){t(a("auth.register.errors.passwordMismatch"));return}if(r.password.length<6){t(a("auth.register.errors.passwordLength"));return}c(!0);try{const o=await g(r.name,r.email,r.password);o.success?p("/"):t(o.message)}catch{t(a("auth.register.errors.failed"))}finally{c(!1)}};return e.jsx(u,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",backgroundColor:"background.default"},children:e.jsx(y,{maxWidth:"sm",children:e.jsx(v.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsxs(b,{sx:{p:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(C,{variant:"h4",sx:{mb:4},children:a("auth.register.title")}),d&&e.jsx(S,{severity:"error",sx:{width:"100%",mb:2},children:d}),e.jsxs(u,{component:"form",onSubmit:x,sx:{width:"100%"},children:[e.jsx(i,{margin:"normal",required:!0,fullWidth:!0,id:"name",label:a("auth.register.name"),name:"name",autoComplete:"name",autoFocus:!0,value:r.name,onChange:s}),e.jsx(i,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:a("auth.register.email"),name:"email",autoComplete:"email",value:r.email,onChange:s}),e.jsx(i,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:a("auth.register.password"),type:"password",id:"password",autoComplete:"new-password",value:r.password,onChange:s}),e.jsx(i,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:a("auth.register.confirmPassword"),type:"password",id:"confirmPassword",value:r.confirmPassword,onChange:s}),e.jsx(A,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:m,children:a(m?"auth.register.creatingAccount":"auth.register.createAccount")}),e.jsx(u,{sx:{textAlign:"center"},children:e.jsxs(P,{component:W,to:"/login",variant:"body2",children:[a("auth.register.haveAccount")," ",a("auth.register.signIn")]})})]})]})})})})};export{D as default};
